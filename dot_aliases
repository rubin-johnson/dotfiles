## listing
alias ll='ls -lah --color=auto'
alias sl='ls'
alias lsl='ls -lah | less'
alias lsg='ls -lah --color=auto | grep -i'
alias lst="find . -type d -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'"

## moving in directories
alias b="cd ../"
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias ......="cd ../../../../.."
alias src="cd ~/src/"
alias ops="cd ~/src/ops/"
alias personal="cd ~/src/personal/"
alias dotfiles="cd ~/dotfiles/"

## file copy/move
alias cpp="rsync --partial --progress --append --rsh=ssh -r -h "
alias mvp="rsync --partial --progress --append --rsh=ssh -r -h --remove-sent-files"

## network
alias whatismyip='dig +short myip.opendns.com @resolver1.opendns.com'

## syslog
alias tacg='tac /var/log/syslog | grep -i'

## package management
alias sag="sudo apt "
alias saguu="sudo apt update; sudo apt upgrade -y; sudo apt-get autoremove -y;"
alias syu="sudo yum upgrade -y"
alias syi="sudo yum install "
alias sys="sudo yum search "

## vim
alias scratch="vim +startinsert ~/tmp/scratch"
alias vimn='vim -u NONE'

## terraform
alias tf='terraform'
alias tg='terragrunt'

## claude
alias yolo='claude --dangerously-skip-permissions'

## misc
alias :q="exit"
alias c="clear"
alias duh="du -h --max-depth=1 | sort -n"
alias weather="curl http://wttr.in/portland"
alias pbcopy='xclip -selection clipboard'
alias pbpaste='xclip -selection clipboard -o'
copy() { cat "$1" | xclip -selection clipboard; }
paste() {
  local mode="safe"
  # TODO(human): Parse flags and set mode
  # Implement flag parsing for -a (append) and -f (force overwrite)
  # Set mode to "append", "force", or leave as "safe" (default)
  # After parsing, shift so $1 points to the filename
  # Hint: getopts or a while/case loop both work here

  local target="$1"
  if [[ -z "$target" ]]; then
    echo "Usage: paste [-a|-f] <file>" >&2
    return 1
  fi
  if [[ -e "$target" ]]; then
    local filetype
    filetype=$(file --brief --mime-type "$target")
    if [[ "$filetype" != text/* ]]; then
      echo "paste: $target is not a text file ($filetype)" >&2
      return 1
    fi
  fi
  case "$mode" in
    safe)
      if [[ -e "$target" ]]; then
        echo "paste: $target already exists (use -f to overwrite, -a to append)" >&2
        return 1
      fi
      xclip -selection clipboard -o > "$target"
      ;;
    force)  xclip -selection clipboard -o > "$target" ;;
    append) xclip -selection clipboard -o >> "$target" ;;
  esac
}

## git functions and aliases
alias cleanbranches="git branch --merge | egrep -v '\''(^\*|master)'\'' | xargs git branch -d"
alias gs="git status"
alias gmp="git checkout master && git pull"
alias gd="git diff"
alias gforce="git commit -a --amend --no-edit && git push --force"
alias gi='gi() { for arg in $@; do echo $arg >> ./.gitignore; done }; gi'
alias co='git checkout'
alias gwip='git commit -m "wip"'
alias gwipp='git commit -m "wip" && git push'
alias ga='git commit --amend --no-edit'

## VS code workaround
#alias code="/mnt/c/Users/RubinStricklin/AppData/Local/Programs/Microsoft\ VS\ Code/bin/code"
